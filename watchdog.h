/*******************************************************************************
*
* 1. NAME
*       watchdog.h
*
* 2. DESCRIPTION
*
*
*******************************************************************************/
#ifndef WATCHDOG_H_
#define WATCHDOG_H_

/*******************************************************************************
*   HEADER FILES                                                               *
*******************************************************************************/
#include <avr/wdt.h>
#include <avr/interrupt.h>
#include <stdint.h>

/*******************************************************************************
*   GLOBAL VARIABLES                                                           *
*******************************************************************************/
#define SYS_RESET_PIN PINB4

/*******************************************************************************
*   MACROS                                                                     *
*****************************************************************************///


/*******************************************************************************
*   FUNCTION PROTOTYPES                                                        *
*****************************************************************************///

/***************************************************************************//**
@brief Resets the system.
@details
@param void
@return void
*******************************************************************************/
void reset_system(void)__attribute__((naked))__attribute__((section(".init3")));


/***************************************************************************//**
@brief Initializes the watchdog  timer and system reset interrupt.
@details Interrupts are disabled during timed sequence.
@param void
@return void
*******************************************************************************/
void wdt_init(void);


#endif /* WATCHDOG_H_ */
